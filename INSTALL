[[Semantic MediaWiki+ 1.3.1]]

Install instructions for the latest version of Semantic MediaWiki+ (SMW+) are also online:

 http://wiki.ontoprise.de/ontoprisewiki/index.php/SMW%2B_1.3.1_Installation

For further customizing your installation, take a look at:

 http://wiki.ontoprise.de/ontoprisewiki/index.php/Customising_SMW%2B
 
 
For install instructions and further information on Semantic MediaWiki, please visit
 
 http://semantic-mediawiki.org/wiki/Help:Administrator_manual

Contents:
* Disclaimer
* Requirements
* Installation
  ** Testing your Installation
  ** Customising Semantic MediaWiki
* Notes on Upgrading
* Contact

== Disclaimer ==

For a proper legal disclaimer, see the file "COPYING".

In general, the extension can be installed into a working wiki without
making any irreversible changes to the source code or database, so you
can try out the software without much risk (though no dedicated uninstall
mechanism is provided). Every serious wiki should be subject to regular 
database backups! If you have any specific questions, please contact 
the authors.

== Requirements ==

* MediaWiki 1.12 (for 1.13 read section below) 
* Semantic MediaWiki 1.3.x
* PHP 5.x or greater installed and working
* MySQL >= 4.0.14 (version required by MediaWiki)


== Installation ==

If you upgrade an existing installation of SMW+, also read the
remarks in the section "Notes on Upgrading" below!

(1) Extract the archive smwplus-1.3.zip to obtain the directory "extensions" 
    which contains all relevant files. Copy this directory to "[wikipath]"
    (or extract/download it to this place).
    We abbreviate "[wikipath]/extensions/SMWHalo" as "[SMW+_path]" below.

(2) Some files of MediaWiki will be overwritten.

    Note: MW 1.13 users MUST NOT overwrite Namespaces.php and User.php
    
    Please confirm when asked:

    [wikipath]\includes\Namespaces.php
    [wikipath]\includes\User.php
    [wikipath]\skins\common\ajax.js
    [wikipath]\index.php

    
(3) Edit [wikipath]\LocalSettings.php and add:

      $wgUseAjax = true;
      include_once('extensions/SMWHalo/includes/SMW_Initialize.php'); 
      enableSMWHalo();
      $phpInterpreter = "<path to PHP executable>";
      
      please change:
       
      $wgDefaultSkin='ontoskin';
      
(4) If you want to use the 'ExportOntologyBot' you have to create a directory
    'wikiexport' in extensions/SMWHalo. The directory must have write access for
    the user which runs Apache (or simply for all if possible).
      
(5) In your wiki, log in as a user with admin status and go to the page
    "Special:SMWAdmin" to do the final setup steps.
    Press "Initialise or upgrade tables" to finalize installation
    
(6) If you are also installing the extension package for SMW+, please refer to
    the install file delivered with the extension package zip file.


=== Testing your Installation ===

If you are uncertain that everything went well, you can do some testing steps to
check if SMW is set up properly.

Go to the Special:Version page and you should see SMW+ Extension (version nn)
listed as a Parser Hook.

Create a regular wiki page named "TestSMW", and in it enter the wiki text
  Property test:  [[testproperty::Dummypage]]
  [[Category:Test]]
 
Then, create the page "Category:Test" and insert some dummy text.
 
Go to Special:OntologyBrowser. As soon as the interface is loaded, you should see
"Test" in the category tree. Click on it and you should see "TestSMW" in the
instance view. Click on it, and you should see "testproperty   Dummypage" in the
properties view.

If you don't get these results, check the steps in the installation section, consult
the FAQ section, then contact the user support list (see the Contact section).

=== Customising Semantic MediaWiki+ ===

Semantic MediaWiki can be customised by a number of settings. To do so, you
can set respective parameters somewhere below the line
"include_once('extensions/SMWHalo/includes/SMW_Initialize.php'); "
in your LocalSetting.php. For example, one can write

 include_once('extensions/SMWHalo/includes/SMW_Initialize.php');
 $smwgAllowNewHelpQuestions = true;

to allow users to add new help questions to the system. There are various settings
which are documented here:

http://wiki.ontoprise.de/ontoprisewiki/index.php/Customising_SMW%2B

== Notes on Upgrading ==

=== Upgrading from SMW+ 1.0, SMW+ 1.1 and SMW+ 1.2 ===

In order to create new tables and update old ones, you should go to 
Special:SMWAdmin and execute "Update/Initialize tables" once.


==Only for MediaWiki 1.13 (!) ==
Note: We DO NOT recommend using MW 1.13 with SMW+ at this time. There were some 
errors reported in the last weeks. It's not completely compatible yet.

If you want to use it though, you have to apply the following patches manually:

(1) includes/Namespace.php

    Replace function isMoveable by:
    
    public static function isMovable( $index ) {
            return !( $index < NS_MAIN || $index == NS_IMAGE  /*|| $index == NS_CATEGORY */);
    }

(2) includes/User.php

    Add this line as last line in function setCookies(...)
    
    wfRunHooks( 'SetUserDefinedCookies', array( &$wgCookiePrefix, &$exp, &$wgCookiePath, &$wgCookieDomain, &$wgCookieSecure ) );

Note: SMW+ should also work without these patches. The consequence is:

    - You can't rename categories
    - Updating the auto-completion mode in your prferences might not get reflected without re-starting the browser.
     
== Contact ==

http://sourceforge.net/projects/halo-extension
  Sourceforge download site with mailing lists as well as user and
  developer forums.

http://www.smwforum.ontoprise.com/
  The user forum hosts the community around SMW and SMW+. It contains
  documentation as well as use cases, best practices and other helpful
  stuff. Feel free to join and collaborate!

If you have any inquiries concerning SMW+, please contact
  info@ontoprise.de
