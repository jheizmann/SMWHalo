<?xml version="1.0" encoding="UTF-8"?>
<deploydescriptor>
	<global>
		<version>156</version>
		<id>smwhalo</id>
		<vendor>Ontoprise GmbH</vendor>
		<maintainer>Ontoprise GmbH</maintainer>
		<instdir>extensions/SMWHalo</instdir>
		<description>
			Eases the usage and enhances the benefits of Semantic
			Mediawiki.
		</description>
		<helpurl>http://smwforum.ontoprise.com/smwforum/index.php/Help:Halo_Extension_User_Manual</helpurl>
		<license>GPL v2</license>
		<dependencies>
		    <dependency from="1150" to="1169">mw</dependency>
			<dependency from="156">smw</dependency>
			<dependency from="101">scriptmanager</dependency>
            <dependency from="100" to="100">arclibrary</dependency>
            <dependency from="131">deployment</dependency>
		</dependencies>
	</global>
	<codefiles>
	   <!-- external codefile -->

		<file loc="../../skins/ontoskin3" />
		<file loc="../../skins/OntoSkin3.deps.php" />
        <file loc="../../skins/OntoSkin3.php" />
		<file loc="../../skins/ontoskin3/includes/OntoSkin3Lib.php" />
	</codefiles>
	<wikidumps>
		<!-- empty -->
	</wikidumps>
	<resources>
		<!-- empty -->
	</resources>
	<configs>

		<new>
			<patch file="patch_for_SMW1.5.2.txt" ext="smw" from="152" to="152"/>
            <patch file="patch_for_SMW1.5.4.txt" ext="smw" from="154" to="154"/>
            <patch file="patch_for_SMW1.5.5.txt" ext="smw" from="155" to="155"/>
            
            <patch file="patch_for_MW1.15.3.txt"
                ext="mw" from="1153" to="1153" />
            <patch file="patch_for_MW1.16.0.txt"
                ext="mw" from="1160" to="1160" />
            <patch file="patch_for_MW1.16.1.txt"
                ext="mw" from="1161" to="1161" />    

            <patch file="patch_for_SF2.0.8.txt" ext="semanticforms" from="208" to="208" />
            <patch file="patch_for_SF2.1.2.txt" ext="semanticforms" from="212" to="212" />

			<require name="smwhalo"
				file="extensions/SMWHalo/includes/SMW_Initialize.php" />
			<function name="enableSMWHalo">
				<string name="sql_storage">SMWHaloStore2</string>
				<string name="ts_storage" null="true" />
				<string name="ts-url" null="true" />
			</function>
			<variable name="wgUseAjax">
				<boolean name="wgUseAjax"
					description="enables ajax calls">true</boolean>
			</variable>
			<variable name="wgDefaultSkin">
				<string name="wgDefaultSkin"
					description="Default skin used">ontoskin3</string>
			</variable>
			<variable name="smwgShowDerivedFacts">
                <boolean name="smwgShowDerivedFacts"
                    description="Shows derived factbox as new tab besides the normal factbox.">true</boolean>
            </variable>
			<script file="maintenance/SMW_setup.php" />
		</new>
		<update from="151">
		    <patch file="patch.txt" />
            <patch file="patch_for_MW1.16.0.txt"/>
		</update>
		<uninstall>
			<patch file="patch_for_SMW1.5.2.txt" ext="smw" from="152" to="152"/>
            <patch file="patch_for_SMW1.5.4.txt" ext="smw" from="154" to="154"/>
            <patch file="patch_for_SMW1.5.5.txt" ext="smw" from="155" to="155"/>
            
            <patch file="patch_for_MW1.15.3.txt"
                ext="mw" from="1153" to="1153" />
            <patch file="patch_for_MW1.16.0.txt"
                ext="mw" from="1160" to="1160" />
            <patch file="patch_for_MW1.16.1.txt"
                ext="mw" from="1161" to="1161" />
            <patch file="patch_for_SF2.0.8.txt" ext="semanticforms" from="208" to="208" />
            <patch file="patch_for_SF2.1.2.txt" ext="semanticforms" from="212" to="212" />

			<script file="maintenance/SMW_setup.php"
				params="--delete" />
		</uninstall>
	</configs>
</deploydescriptor>