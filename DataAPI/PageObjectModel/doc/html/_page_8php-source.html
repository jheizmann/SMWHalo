<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>PageObjectModel(POM): C:/xampp/htdocs/mw/extensions/PageObjectModel/POM/Page.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/xampp/htdocs/mw/extensions/PageObjectModel/POM/Page.php</h1><a href="_page_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00078"></a><a class="code" href="class_p_o_m_page.html">00078</a> <span class="keyword">class </span><a class="code" href="class_p_o_m_page.html">POMPage</a> <span class="keyword">extends</span> PCPPage
<a name="l00079"></a>00079 {
<a name="l00085"></a><a class="code" href="class_p_o_m_page.html#bc0b68d8ca09ea573e1a25203df5d095">00085</a>         <span class="keyword">protected</span> <a class="code" href="class_p_o_m_page.html#bc0b68d8ca09ea573e1a25203df5d095">$children</a>;
<a name="l00096"></a><a class="code" href="class_p_o_m_page.html#a83cc6db811f4d7930acd244bb346800">00096</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#a83cc6db811f4d7930acd244bb346800">POMPage</a>($title, $text, $parsers = array(<span class="stringliteral">'POMExtendedParser'</span>))
<a name="l00097"></a>00097         {
<a name="l00098"></a>00098                 $this-&gt;title = $title;
<a name="l00099"></a>00099                 $this-&gt;text = $text;
<a name="l00100"></a>00100                 $this-&gt;children =  <span class="keyword">new</span> <a class="code" href="class_d_l_list.html">DLList</a>();
<a name="l00101"></a>00101                 $this-&gt;children-&gt;setShortcutTypes(array(
<a name="l00102"></a>00102                         <span class="stringliteral">'POMTemplate'</span>,
<a name="l00103"></a>00103                         <span class="stringliteral">'POMAskFunction'</span>,
<a name="l00104"></a>00104                         <span class="stringliteral">'POMBuiltInParserFunction'</span>,
<a name="l00105"></a>00105                         <span class="stringliteral">'POMExtensionParserFunction'</span>,
<a name="l00106"></a>00106                         <span class="stringliteral">'POMCategory'</span>, 
<a name="l00107"></a>00107                         <span class="stringliteral">'POMProperty'</span>, 
<a name="l00108"></a>00108                         <span class="stringliteral">'POMSimpleText'</span>));
<a name="l00109"></a>00109 
<a name="l00110"></a>00110                 <span class="keywordflow">foreach</span> ($parsers as $parser)
<a name="l00111"></a>00111                 {
<a name="l00112"></a>00112                         $__parserObj = call_user_func(array($parser, <span class="stringliteral">'getParser'</span>));
<a name="l00113"></a>00113                         $__parserObj-&gt;Parse($this);
<a name="l00114"></a>00114                 }
<a name="l00115"></a>00115         }
<a name="l00116"></a>00116 
<a name="l00122"></a><a class="code" href="class_p_o_m_page.html#fc133d279b4a5a929dde95d50d8d1458">00122</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#fc133d279b4a5a929dde95d50d8d1458">getNamespace</a>(){
<a name="l00123"></a>00123                 $__start = strpos($this-&gt;title, <span class="charliteral">':'</span>)+1;
<a name="l00124"></a>00124                 <span class="keywordflow">return</span> substr($this-&gt;title, $__start);
<a name="l00125"></a>00125         }
<a name="l00126"></a>00126 
<a name="l00132"></a><a class="code" href="class_p_o_m_page.html#ea44b37cf18eb6f8c80c2ceabeb2a1c8">00132</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#ea44b37cf18eb6f8c80c2ceabeb2a1c8">addElement</a>(<a class="code" href="class_p_o_m_element.html">POMElement</a> &amp;$element){
<a name="l00133"></a>00133                 $this-&gt;<a class="code" href="class_p_o_m_page.html#405776906bedd1555e45b2ca4532565c">addElementAtPosition</a>($element);
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135 
<a name="l00152"></a><a class="code" href="class_p_o_m_page.html#405776906bedd1555e45b2ca4532565c">00152</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#405776906bedd1555e45b2ca4532565c">addElementAtPosition</a>(<a class="code" href="class_p_o_m_element.html">POMElement</a> &amp;$element, $position = -1)
<a name="l00153"></a>00153         {
<a name="l00154"></a>00154                 <span class="keywordflow">if</span>($position === -1){
<a name="l00155"></a>00155                         $this-&gt;children-&gt;add($element);
<a name="l00156"></a>00156                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00157"></a>00157                 }<span class="keywordflow">else</span>{
<a name="l00158"></a>00158                         $__searchResult = array();
<a name="l00159"></a>00159                         $__oldNode = NULL; <span class="comment">// the exiting element at the requested position</span>
<a name="l00160"></a>00160                         $__charCount = 0; <span class="comment">// the number of chars before this element</span>
<a name="l00161"></a>00161 
<a name="l00162"></a>00162                         $__searchResult = $this-&gt;<a class="code" href="class_p_o_m_page.html#8accc23e478f0e28ed8f37b3cd51109f">searchInTextAtPosition</a>($position);
<a name="l00163"></a>00163                         $__oldNode = &amp;$__searchResult[0];
<a name="l00164"></a>00164                         $__charCount = $__searchResult[1];
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="preprocessor">                        #var_dump($__oldNode-&gt;element);</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span>
<a name="l00168"></a>00168                         <span class="keywordflow">switch</span> (get_class($__oldNode-&gt;element)){
<a name="l00169"></a>00169                                 <span class="keywordflow">case</span> <span class="stringliteral">'POMTemplate'</span>:
<a name="l00170"></a>00170                                         <span class="keywordflow">if</span> ( strcmp(<span class="stringliteral">'POMTemplate'</span>, get_class($element)) === 0){ <span class="comment">// types match</span>
<a name="l00171"></a>00171                                                 <span class="comment">// perhaps allow adding a template into a template ...</span>
<a name="l00172"></a>00172                                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00173"></a>00173                                         }<span class="keywordflow">else</span>{ <span class="comment">// types mismatch</span>
<a name="l00174"></a>00174                                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00175"></a>00175                                         }
<a name="l00176"></a>00176                                         <span class="keywordflow">break</span>;
<a name="l00177"></a>00177                                 <span class="keywordflow">case</span> <span class="stringliteral">'POMCategory'</span>:
<a name="l00178"></a>00178                                         <span class="keywordflow">if</span> ( strcmp(<span class="stringliteral">'POMCategory'</span>, get_class($element)) === 0){ <span class="comment">// types match</span>
<a name="l00179"></a>00179                                                 $__oldNode-&gt;element = $element;
<a name="l00180"></a>00180                                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00181"></a>00181                                         }<span class="keywordflow">else</span>{ <span class="comment">// types mismatch</span>
<a name="l00182"></a>00182                                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00183"></a>00183                                         }
<a name="l00184"></a>00184                                         <span class="keywordflow">break</span>;
<a name="l00185"></a>00185                                 <span class="keywordflow">case</span> <span class="stringliteral">'POMProperty'</span> :
<a name="l00186"></a>00186                                         <span class="keywordflow">if</span> ( strcmp(<span class="stringliteral">'POMProperty'</span>, get_class($element)) === 0){ <span class="comment">// types match</span>
<a name="l00187"></a>00187                                                 $__oldNode-&gt;element = &amp;$element;
<a name="l00188"></a>00188                                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00189"></a>00189                                         }<span class="keywordflow">else</span>{ <span class="comment">// types mismatch</span>
<a name="l00190"></a>00190                                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00191"></a>00191                                         }
<a name="l00192"></a>00192                                         <span class="keywordflow">break</span>;
<a name="l00193"></a>00193                                 <span class="keywordflow">case</span> <span class="stringliteral">'POMSimpleText'</span>:
<a name="l00194"></a>00194                                         <span class="keywordflow">if</span> ( strcmp(<span class="stringliteral">'POMSimpleText'</span>, get_class($element)) === 0){ <span class="comment">// types match</span>
<a name="l00195"></a>00195                                                 <span class="comment">// don't split the node, just add the text</span>
<a name="l00196"></a>00196                                                 $__relativePosition = $position - $__charCount;
<a name="l00197"></a>00197                                                 $__stringBeforePos = substr($__oldNode-&gt;element-&gt;nodeText, 0, $__relativePosition);
<a name="l00198"></a>00198                                                 $__stringAfterPos = substr($__oldNode-&gt;element-&gt;nodeText, $__relativePosition+1);
<a name="l00199"></a>00199                                                 $__oldNode-&gt;element-&gt;nodeText = $__stringBeforePos.$element-&gt;nodeText.$__stringAfterPos;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201                                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00202"></a>00202                                         }<span class="keywordflow">else</span>{ <span class="comment">// types mismatch</span>
<a name="l00203"></a>00203                                                 $__relativePosition = $position - $__charCount;
<a name="l00204"></a>00204                                                 $__stringBeforePos = substr($__oldNode-&gt;element-&gt;nodeText, 0, $__relativePosition);
<a name="l00205"></a>00205                                                 $__stringAfterPos = substr($__oldNode-&gt;element-&gt;nodeText, $__relativePosition+1);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207                                                 $__oldNode-&gt;element-&gt;nodeText =$__stringBeforePos;
<a name="l00208"></a>00208                                                 $__oldNodePosInList = $this-&gt;children-&gt;getPosition($__oldNode-&gt;element);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00211"></a>00211                                                 <span class="comment">// add the new node and the rest of teh old node as a new node</span>
<a name="l00212"></a>00212                                                 $this-&gt;children-&gt;addAtPosition($__oldNodePosInList+1, $element);
<a name="l00213"></a>00213                                                 $this-&gt;children-&gt;addAtPosition($__oldNodePosInList+2, <span class="keyword">new</span> <a class="code" href="class_p_o_m_simple_text.html">POMSimpleText</a>($__stringAfterPos));
<a name="l00214"></a>00214                                                         
<a name="l00215"></a>00215                                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00216"></a>00216                                         }
<a name="l00217"></a>00217                                         <span class="keywordflow">break</span>;
<a name="l00218"></a>00218                                 <span class="keywordflow">default</span>:
<a name="l00219"></a>00219                                         <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// unsupported POMElement</span>
<a name="l00220"></a>00220                         }
<a name="l00221"></a>00221                 }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00224"></a>00224         }
<a name="l00225"></a>00225 
<a name="l00234"></a><a class="code" href="class_p_o_m_page.html#052157de805691a1783d892267bbd008">00234</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#052157de805691a1783d892267bbd008">addElementBefore</a>(<a class="code" href="class_p_o_m_element.html">POMElement</a>  &amp;$oldElement, <a class="code" href="class_p_o_m_element.html">POMElement</a>  &amp;$newElement){
<a name="l00235"></a>00235                 <span class="keywordflow">return</span> $this-&gt;children-&gt;addAtPosition($this-&gt;children-&gt;getPosition($oldElement), &amp;$newElement);
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237 
<a name="l00246"></a><a class="code" href="class_p_o_m_page.html#11714ddf34f82da3af7f04767d4438a2">00246</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#11714ddf34f82da3af7f04767d4438a2">addElementAfter</a>(<a class="code" href="class_p_o_m_element.html">POMElement</a>  $oldElement, <a class="code" href="class_p_o_m_element.html">POMElement</a>  &amp;$newElement){
<a name="l00247"></a>00247                 <span class="keywordflow">return</span> $this-&gt;children-&gt;addAtPosition($this-&gt;children-&gt;getPosition($oldElement)+1, $newElement);
<a name="l00248"></a>00248         }
<a name="l00249"></a>00249 
<a name="l00250"></a>00250         <span class="comment">/* Retrieve an element on a page</span>
<a name="l00251"></a>00251 <span class="comment">         *</span>
<a name="l00252"></a>00252 <span class="comment">         * @param string $id The ID of the element.</span>
<a name="l00253"></a>00253 <span class="comment">         *</span>
<a name="l00254"></a>00254 <span class="comment">         * @return POMElement The element.</span>
<a name="l00255"></a>00255 <span class="comment">         */</span>
<a name="l00256"></a><a class="code" href="class_p_o_m_page.html#c468574e6976260d6bc112d5ffd5b03a">00256</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#c468574e6976260d6bc112d5ffd5b03a">getElement</a>($id = NULL){
<a name="l00257"></a>00257                 $__iterator = $this-&gt;children-&gt;listIterator();
<a name="l00258"></a>00258                 <span class="keywordflow">if</span>($id !== NULL){
<a name="l00259"></a>00259                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00260"></a>00260                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00261"></a>00261                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $id) === 0){
<a name="l00262"></a>00262                                         <span class="keywordflow">return</span> $__element;
<a name="l00263"></a>00263                                 }
<a name="l00264"></a>00264                         }
<a name="l00265"></a>00265                         <span class="keywordflow">return</span> NULL;
<a name="l00266"></a>00266                 }<span class="keywordflow">else</span>{
<a name="l00267"></a>00267                         <span class="keywordflow">return</span> $__iterator-&gt;getNextNodeValueByReference();
<a name="l00268"></a>00268                 }
<a name="l00269"></a>00269         }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         <span class="comment">/* Retrieve an elements on a page.</span>
<a name="l00272"></a>00272 <span class="comment">         *</span>
<a name="l00273"></a>00273 <span class="comment">         * @return DLList The elements.</span>
<a name="l00274"></a>00274 <span class="comment">         */</span>
<a name="l00275"></a><a class="code" href="class_p_o_m_page.html#f3a1b95bbf05d335ef5a0f23ba323931">00275</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#f3a1b95bbf05d335ef5a0f23ba323931">getElements</a>(){
<a name="l00276"></a>00276                 <span class="keywordflow">return</span> $this-&gt;children;
<a name="l00277"></a>00277         }
<a name="l00278"></a>00278 
<a name="l00287"></a><a class="code" href="class_p_o_m_page.html#50c3629035d351a77fb5b44ec76ff118">00287</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#50c3629035d351a77fb5b44ec76ff118">getTemplates</a>($type = <span class="stringliteral">'POMTemplate'</span>){
<a name="l00288"></a>00288                 <span class="keywordflow">return</span> $this-&gt;children-&gt;getShortcuts($type);
<a name="l00289"></a>00289         }
<a name="l00290"></a>00290 
<a name="l00300"></a><a class="code" href="class_p_o_m_page.html#2627378552a38aa612c6f4f6e7cf8ebb">00300</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#2627378552a38aa612c6f4f6e7cf8ebb">getTemplateByID</a>($id = NULL, $type = <span class="stringliteral">'POMTemplate'</span>){
<a name="l00301"></a>00301                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator($type);
<a name="l00302"></a>00302                 <span class="keywordflow">if</span>($id !== NULL){
<a name="l00303"></a>00303                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00304"></a>00304                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00305"></a>00305                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $id) === 0){
<a name="l00306"></a>00306                                         <span class="keywordflow">return</span> $__element;
<a name="l00307"></a>00307                                 }
<a name="l00308"></a>00308                         }
<a name="l00309"></a>00309                         <span class="keywordflow">return</span> NULL;
<a name="l00310"></a>00310                 }<span class="keywordflow">else</span>{
<a name="l00311"></a>00311                         <span class="keywordflow">return</span> $__iterator-&gt;getNextNodeValueByReference();
<a name="l00312"></a>00312                 }
<a name="l00313"></a>00313         }
<a name="l00314"></a>00314 
<a name="l00324"></a><a class="code" href="class_p_o_m_page.html#69ef74f082bbe2859a4971e1581dff03">00324</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#69ef74f082bbe2859a4971e1581dff03">getTemplateByTitle</a>($title = <span class="stringliteral">''</span>, $type = <span class="stringliteral">'POMTemplate'</span>){
<a name="l00325"></a>00325                 $__resultingArray = <span class="keyword">new</span> <a class="code" href="class_d_l_list.html">DLList</a>();
<a name="l00326"></a>00326                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator($type);
<a name="l00327"></a>00327                 <span class="keywordflow">if</span>($title !== <span class="stringliteral">''</span>){
<a name="l00328"></a>00328                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00329"></a>00329                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00330"></a>00330                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;getTitle(), $title) === 0){
<a name="l00331"></a>00331                                         $__resultingArray-&gt;add($__element);
<a name="l00332"></a>00332                                 }
<a name="l00333"></a>00333                         }
<a name="l00334"></a>00334                         <span class="keywordflow">return</span> $__resultingArray;
<a name="l00335"></a>00335                 }<span class="keywordflow">else</span>{
<a name="l00336"></a>00336                         $__resultingArray-&gt;add($__iterator-&gt;getNextNodeValueByReference());
<a name="l00337"></a>00337                         <span class="keywordflow">return</span> $__resultingArray;
<a name="l00338"></a>00338                 }
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340 
<a name="l00346"></a><a class="code" href="class_p_o_m_page.html#0c101fa0012435c94d2466cbc0d2d524">00346</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#0c101fa0012435c94d2466cbc0d2d524">getProperties</a>(){
<a name="l00347"></a>00347                 <span class="keywordflow">return</span> $this-&gt;children-&gt;getShortcuts(<span class="stringliteral">'POMProperty'</span>);
<a name="l00348"></a>00348         }
<a name="l00349"></a>00349 
<a name="l00358"></a><a class="code" href="class_p_o_m_page.html#7c58d852dd46b7b16b0110875e571a61">00358</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#7c58d852dd46b7b16b0110875e571a61">getPropertyByID</a>($id = NULL){
<a name="l00359"></a>00359                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator(<span class="stringliteral">'POMProperty'</span>);
<a name="l00360"></a>00360                 <span class="keywordflow">if</span>($id !== NULL){
<a name="l00361"></a>00361                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00362"></a>00362                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00363"></a>00363                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $id) === 0){
<a name="l00364"></a>00364                                         <span class="keywordflow">return</span> $__element;
<a name="l00365"></a>00365                                 }
<a name="l00366"></a>00366                         }
<a name="l00367"></a>00367                         <span class="keywordflow">return</span> NULL;
<a name="l00368"></a>00368                 }<span class="keywordflow">else</span>{
<a name="l00369"></a>00369                         <span class="keywordflow">return</span> $__iterator-&gt;getNextNodeValueByReference();
<a name="l00370"></a>00370                 }
<a name="l00371"></a>00371         }
<a name="l00372"></a>00372 
<a name="l00381"></a><a class="code" href="class_p_o_m_page.html#7e09add427a6f17c39770fe9a5880157">00381</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#7e09add427a6f17c39770fe9a5880157">getPropertyByName</a>($name = <span class="stringliteral">''</span>){
<a name="l00382"></a>00382                 $__resultingArray = <span class="keyword">new</span> <a class="code" href="class_d_l_list.html">DLList</a>();
<a name="l00383"></a>00383                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator(<span class="stringliteral">'POMProperty'</span>);
<a name="l00384"></a>00384                 <span class="keywordflow">if</span>($name !== NULL){
<a name="l00385"></a>00385                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00386"></a>00386                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00387"></a>00387                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;name, $name) === 0){
<a name="l00388"></a>00388                                         $__resultingArray-&gt;add($__element);
<a name="l00389"></a>00389                                 }
<a name="l00390"></a>00390                         }
<a name="l00391"></a>00391                         <span class="keywordflow">return</span> $__resultingArray;
<a name="l00392"></a>00392                 }<span class="keywordflow">else</span>{
<a name="l00393"></a>00393                         $__resultingArray-&gt;add($__iterator-&gt;getNextNodeValueByReference());
<a name="l00394"></a>00394                         <span class="keywordflow">return</span> $__resultingArray;
<a name="l00395"></a>00395                 }
<a name="l00396"></a>00396         }
<a name="l00397"></a>00397 
<a name="l00403"></a><a class="code" href="class_p_o_m_page.html#340289c2aaa21c0a0bc3916c0370268f">00403</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#340289c2aaa21c0a0bc3916c0370268f">getCategories</a>(){
<a name="l00404"></a>00404                 <span class="keywordflow">return</span> $this-&gt;children-&gt;getShortcuts(<span class="stringliteral">'POMCategory'</span>);
<a name="l00405"></a>00405         }
<a name="l00406"></a>00406 
<a name="l00415"></a><a class="code" href="class_p_o_m_page.html#cd16dd13845e6aa6a40493b8dd07a0c0">00415</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#cd16dd13845e6aa6a40493b8dd07a0c0">getCategoryByID</a>($id = NULL){
<a name="l00416"></a>00416                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator(<span class="stringliteral">'POMCategory'</span>);
<a name="l00417"></a>00417                 <span class="keywordflow">if</span>($id !== NULL){
<a name="l00418"></a>00418                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00419"></a>00419                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00420"></a>00420                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $id) === 0){
<a name="l00421"></a>00421                                         <span class="keywordflow">return</span> $__element;
<a name="l00422"></a>00422                                 }
<a name="l00423"></a>00423                         }
<a name="l00424"></a>00424                         <span class="keywordflow">return</span> NULL;
<a name="l00425"></a>00425                 }<span class="keywordflow">else</span>{
<a name="l00426"></a>00426                         <span class="keywordflow">return</span> $__iterator-&gt;getNextNodeValueByReference();
<a name="l00427"></a>00427                 }
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429 
<a name="l00438"></a><a class="code" href="class_p_o_m_page.html#27cd361ad9fc2e9ab475a3357651d30f">00438</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#27cd361ad9fc2e9ab475a3357651d30f">getCategoryByName</a>($name = <span class="stringliteral">''</span>){
<a name="l00439"></a>00439                 $__resultingArray = <span class="keyword">new</span> <a class="code" href="class_d_l_list.html">DLList</a>();
<a name="l00440"></a>00440                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator(<span class="stringliteral">'POMCategory'</span>);
<a name="l00441"></a>00441                 <span class="keywordflow">if</span>($name !== NULL){
<a name="l00442"></a>00442                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00443"></a>00443                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00444"></a>00444                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;name, $name) === 0){
<a name="l00445"></a>00445                                         $__resultingArray-&gt;add($__element);
<a name="l00446"></a>00446                                 }
<a name="l00447"></a>00447                         }
<a name="l00448"></a>00448                         <span class="keywordflow">return</span> $__resultingArray;
<a name="l00449"></a>00449                 }<span class="keywordflow">else</span>{
<a name="l00450"></a>00450                         $__resultingArray-&gt;add($__iterator-&gt;getNextNodeValueByReference());
<a name="l00451"></a>00451                         <span class="keywordflow">return</span> $__resultingArray;
<a name="l00452"></a>00452                 }
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454 
<a name="l00460"></a><a class="code" href="class_p_o_m_page.html#c1a4449d91e9c2af7d9ca91379b3394c">00460</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#c1a4449d91e9c2af7d9ca91379b3394c">getSimpleTexts</a>(){
<a name="l00461"></a>00461                 <span class="keywordflow">return</span> $this-&gt;children-&gt;getShortcuts(<span class="stringliteral">'POMSimpleText'</span>);
<a name="l00462"></a>00462         }
<a name="l00463"></a>00463 
<a name="l00472"></a><a class="code" href="class_p_o_m_page.html#6571ad0f03f1e9eaae01c1fd5b7e9d6d">00472</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#6571ad0f03f1e9eaae01c1fd5b7e9d6d">getSimpleText</a>($id = NULL){
<a name="l00473"></a>00473                 $__iterator = $this-&gt;children-&gt;shortcutsListIterator(<span class="stringliteral">'POMSimpleText'</span>);
<a name="l00474"></a>00474                 <span class="keywordflow">if</span>($id !== NULL){
<a name="l00475"></a>00475                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00476"></a>00476                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00477"></a>00477                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $id) === 0){
<a name="l00478"></a>00478                                         <span class="keywordflow">return</span> $__element;
<a name="l00479"></a>00479                                 }
<a name="l00480"></a>00480                         }
<a name="l00481"></a>00481                         <span class="keywordflow">return</span> NULL;
<a name="l00482"></a>00482                 }<span class="keywordflow">else</span>{
<a name="l00483"></a>00483                         <span class="keywordflow">return</span> $__iterator-&gt;getNextNodeValueByReference();
<a name="l00484"></a>00484                 }
<a name="l00485"></a>00485         }
<a name="l00486"></a>00486 
<a name="l00492"></a><a class="code" href="class_p_o_m_page.html#d4f5484d2a72851e2559264931335ade">00492</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#d4f5484d2a72851e2559264931335ade">sync</a>(){
<a name="l00493"></a>00493                 $__iterator = $this-&gt;children-&gt;listIterator();
<a name="l00494"></a>00494                 $this-&gt;text = <span class="stringliteral">''</span>;
<a name="l00495"></a>00495                 <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00496"></a>00496                         $__element = $__iterator-&gt;getNextNodeValueByReference();
<a name="l00497"></a>00497                         $this-&gt;text .= $__element-&gt;toString();
<a name="l00498"></a>00498                 }
<a name="l00499"></a>00499                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00500"></a>00500         }
<a name="l00501"></a>00501 
<a name="l00508"></a><a class="code" href="class_p_o_m_page.html#8accc23e478f0e28ed8f37b3cd51109f">00508</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#8accc23e478f0e28ed8f37b3cd51109f">searchInTextAtPosition</a>($textPos = -1){
<a name="l00509"></a>00509                 $__charCount = 0;
<a name="l00510"></a>00510                 <span class="keywordflow">if</span>(!$this-&gt;children-&gt;isEmpty()){
<a name="l00511"></a>00511                         $__node = &amp;$this-&gt;children-&gt;head;
<a name="l00512"></a>00512                         <span class="keywordflow">for</span>($__i=0; $i&lt;=$this-&gt;children-&gt;size(); $__i++){
<a name="l00513"></a>00513                                 $__node = &amp;$__node-&gt;getNext();
<a name="l00514"></a>00514                                 $__charCount+= strlen($__node-&gt;element-&gt;nodeText);
<a name="l00515"></a>00515                                 <span class="keywordflow">if</span> ($__charCount &gt;= $textPos){
<a name="l00516"></a>00516                                         <span class="keywordflow">return</span> array(&amp;$__node,$__charCount-strlen($__node-&gt;element-&gt;nodeText));
<a name="l00517"></a>00517                                 }
<a name="l00518"></a>00518                         }
<a name="l00519"></a>00519                 }
<a name="l00520"></a>00520                 <span class="keywordflow">return</span> NULL;
<a name="l00521"></a>00521         }
<a name="l00522"></a>00522 
<a name="l00530"></a><a class="code" href="class_p_o_m_page.html#26c42b42e9da87a49e1f4ff3ba489beb">00530</a>         <span class="keyword">public</span> function &amp;<a class="code" href="class_p_o_m_page.html#26c42b42e9da87a49e1f4ff3ba489beb">update</a>(<a class="code" href="class_p_o_m_element.html">POMElement</a> $element = NULL){
<a name="l00531"></a>00531                 $__iterator = $this-&gt;children-&gt;listIterator();
<a name="l00532"></a>00532                 <span class="keywordflow">if</span>($element-&gt;id !== NULL){
<a name="l00533"></a>00533                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00534"></a>00534                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00535"></a>00535                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $element-&gt;id) === 0){
<a name="l00536"></a>00536                                         $__element = $element;
<a name="l00537"></a>00537                                         <span class="keywordflow">return</span> $__element;
<a name="l00538"></a>00538                                 }
<a name="l00539"></a>00539                         }
<a name="l00540"></a>00540                         <span class="keywordflow">return</span> NULL;
<a name="l00541"></a>00541                 }<span class="keywordflow">else</span>{
<a name="l00542"></a>00542                         <span class="keywordflow">return</span> NULL;
<a name="l00543"></a>00543                 }
<a name="l00544"></a>00544         }
<a name="l00545"></a>00545 
<a name="l00553"></a><a class="code" href="class_p_o_m_page.html#c5568e2e8f6c27739fd34cb98fc8c0e6">00553</a>         <span class="keyword">public</span> function &amp;<span class="keyword">delete</span>(<a class="code" href="class_p_o_m_element.html">POMElement</a> $element = NULL){
<a name="l00554"></a>00554                 $__iterator = $this-&gt;children-&gt;listIterator();
<a name="l00555"></a>00555                 <span class="keywordflow">if</span>($element-&gt;id !== NULL){
<a name="l00556"></a>00556                         <span class="keywordflow">while</span>($__iterator-&gt;hasNext()){
<a name="l00557"></a>00557                                 $__element = &amp;$__iterator-&gt;getNextNodeValueByReference();
<a name="l00558"></a>00558                                 <span class="keywordflow">if</span>( strcmp($__element-&gt;id, $element-&gt;id) === 0){
<a name="l00559"></a>00559                                         <span class="keywordflow">return</span> $this-&gt;children-&gt;remove($__element);
<a name="l00560"></a>00560                                 }
<a name="l00561"></a>00561                         }
<a name="l00562"></a>00562                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00563"></a>00563                 }<span class="keywordflow">else</span>{
<a name="l00564"></a>00564                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00565"></a>00565                 }
<a name="l00566"></a>00566         }
<a name="l00567"></a>00567 
<a name="l00573"></a><a class="code" href="class_p_o_m_page.html#f475997d97c9b0e99b5d310d83af9416">00573</a>         <span class="keyword">public</span> function <a class="code" href="class_p_o_m_page.html#f475997d97c9b0e99b5d310d83af9416">toString</a>(){
<a name="l00574"></a>00574                 $this-&gt;<a class="code" href="class_p_o_m_page.html#d4f5484d2a72851e2559264931335ade">sync</a>();
<a name="l00575"></a>00575                 <span class="keywordflow">return</span> $this-&gt;text;
<a name="l00576"></a>00576         }
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 }
<a name="l00579"></a>00579 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Feb 5 17:42:58 2009 for PageObjectModel(POM) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
